(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{352:function(e,a,t){"use strict";t.r(a);var r=t(40),s=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"分支管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[e._v("#")]),e._v(" 分支管理")]),e._v(" "),t("p",[e._v("创建项目时（一般是服务型项目，工具型或辅助型项目可以简单一些），会针对不同环境创建三个常设分支：")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"#1.1"}},[e._v("1.1")]),e._v(" "),t("a",{attrs:{name:"1.1"}}),e._v(" develop：开发环境的稳定分支，公共开发环境基于该分支构建。")]),e._v(" "),t("li",[t("a",{attrs:{href:"#1.2"}},[e._v("1.2")]),e._v(" "),t("a",{attrs:{name:"1.2"}}),e._v(" pre-release：测试环境的稳定分支，测试环境基于该分支构建。")]),e._v(" "),t("li",[t("a",{attrs:{href:"#1.3"}},[e._v("1.3")]),e._v(" "),t("a",{attrs:{name:"1.3"}}),e._v(" master：生产环境的稳定分支，生产环境基于该分支构建。仅用来发布新版本，除了从 pre-release 或生产环境 Bug 修复分支进行 merge，不接受任何其它修改\n平时开发工作中，会根据需要由开发人员创建两类临时分支：")])]),e._v(" "),t("h2",{attrs:{id:"功能（feature）分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#功能（feature）分支"}},[e._v("#")]),e._v(" 功能（feature）分支")]),e._v(" "),t("p",[e._v("为了开发某个特定功能，从 develop 分支上面分出来的。开发完成后，要 merge 到 develop 分支。功能分支的命名，可以采用 feature-*的形式命名(*为任务单号)")]),e._v(" "),t("h2",{attrs:{id:"bug-修复（fixbug）分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bug-修复（fixbug）分支"}},[e._v("#")]),e._v(" Bug 修复（fixbug）分支")]),e._v(" "),t("p",[e._v("为了修复某个 bug，从常设分支上面分出来的。修复完成后，再 merge 到对应的分支。Bug 修复分支的命名，可以采用 fixbug-*的形式命名（*为 bug 单号）")]),e._v(" "),t("h2",{attrs:{id:"流程规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程规范"}},[e._v("#")]),e._v(" 流程规范")]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"#2.1"}},[e._v("2.1")]),e._v(" "),t("a",{attrs:{name:"2.1"}}),e._v(" 从 develop 分支切出一个新分支，根据是功能还是 bug，命名为 feature-_ 或 fixbug-_。")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#2.2"}},[e._v("2.2")]),e._v(" "),t("a",{attrs:{name:"2.2"}}),e._v(" 开发者完成开发，提交分支到远程仓库。")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#2.3"}},[e._v("2.3")]),e._v(" "),t("a",{attrs:{name:"2.3"}}),e._v(" 开发者发起 merge 请求（可在 gitlab 页面“New merge request”），将新分支请求 merge 到 develop 分支，并提醒 code reviewer 进行 review")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#2.4"}},[e._v("2.4")]),e._v(" "),t("a",{attrs:{name:"2.4"}}),e._v(" code reviewer 对代码 review 之后，若无问题，则接受 merge 请求，新分支 merge 到 develop 分支，同时可删除新建分支；若有问题，则不能进行 merge，可 close 该请求，同时通知开发者在新分支上进行相应调整。调整完后提交代码重复 review 流程。")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#2.5"}},[e._v("2.5")]),e._v(" "),t("a",{attrs:{name:"2.5"}}),e._v(" 转测时，直接从当前 develop 分支 merge 到 pre-release 分支，重新构建测试环境完成转测。")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"#2.6"}},[e._v("2.6")]),e._v(" "),t("a",{attrs:{name:"2.6"}}),e._v(" 测试完成后，从 pre-release 分支 merge 到 master 分支，基于 master 分支构建生产环境完成上线。并对 master 分支打 tag，tag 名可为 v1.0.0"),t("em",[e._v("2019032115（即版本号")]),e._v("上线时间）")])])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/10886683-fd4b1a73d4604d7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"正常开发流程"}})]),e._v(" "),t("h3",{attrs:{id:"并行开发测试环境-bug-修复流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#并行开发测试环境-bug-修复流程"}},[e._v("#")]),e._v(" 并行开发测试环境 Bug 修复流程")]),e._v(" "),t("p",[e._v("并行开发（即前一个版本已经转测但未上线，后一个版本又已在开发中并部分合并到了 develop 分支）过程中，转测后测试环境发现的 bug 需要修复，但是 develop 分支此时又有新内容且该部分内容目前不计划转测，可以 pre-release 切出一个 bug 修复分支。完成之后需要同时 merge 到 pre-release 分支与 develop 分支。merge 时参考“正常开发流程”。流程示意图如下")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/10886683-227af4a8a3355120.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"并行开发测试环境Bug修复流程"}})]),e._v(" "),t("h3",{attrs:{id:"生产环境的-bug-分两种情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生产环境的-bug-分两种情况"}},[e._v("#")]),e._v(" 生产环境的 Bug 分两种情况")]),e._v(" "),t("p",[t("a",{attrs:{href:"#3.1"}},[e._v("3.1")]),e._v(" "),t("a",{attrs:{name:"3.1"}}),e._v(" 紧急 Bug：严重影响用户使用的为紧急 Bug，需立即进行修复。如关键业务流程存在问题，影响用户正常的业务行为。")]),e._v(" "),t("p",[t("a",{attrs:{href:"#3.2"}},[e._v("3.2")]),e._v(" "),t("a",{attrs:{name:"3.2"}}),e._v(" 非紧急 Bug 或优化：非关键业务流程问题，仅影响用户使用体验，或出现频率较小等，为非紧急 Bug，可规划到后续版本进行修复。\n"),t("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/10886683-2ebc30086d105283.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"生产环境的Bug分两种情况"}})])])}),[],!1,null,null,null);a.default=s.exports}}]);